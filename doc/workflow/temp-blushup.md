# AIへの指示書

## 目的
既存のWordPressエンドポイント（cleaning-management）から清掃報告書の一覧を取得し、  
一覧表示用のコンポーネントに整形済みデータを渡して表示する機能を実装してほしい。  

また、すでに用意されているレポート詳細用UIコンポーネント（`report-detail.tsx`）内に、  
「ここに報告書の詳細を表示します」などのプレースホルダーテキストを表示する部分を作り、  
クリック時に表示されるようにしてほしい。  

今後は各報告書をクリックすると投稿IDをもとに詳細情報を取得・表示するSPA的な画面に遷移させたいが、  
今回の作業範囲はまずは一覧表示とプレースホルダー表示までとする。

---

## 参照ファイルとディレクトリ
- **API作成場所（ビジネスロジックなし）**  
  src/api/wordpress.ts

- **リスト用UIコンポーネント（ビジネスロジックなし）**  
  src/components/report/report-list.tsx

- **詳細用UIコンポーネント（ビジネスロジックなし）**  
  src/components/report/report-detail.tsx

- **レポート用のhooksディレクトリ（ビジネスロジックなし）**  
  src/hooks/report

- **レポート用のlibディレクトリ（ビジネスロジックOK）**  
  src/lib/report

- **レポート用のページコンポーネント（ビジネスロジックなし）**  
  src/pages/report/page.tsx

- **レポート用の型定義（ビジネスロジックなし）**  
  詳細：src/types/report-detail.ts  
  リスト：src/types/report-list.ts

- **WordPressのエンドポイントプラグイン**  
  WPplugin/cleaning-management/api/api-report-list.php

- **ダッシュボードのページコンポーネント（ビジネスロジックなし）**  
  src/pages/dashboard/page.tsx

---

## 詳細作業内容
1. すでに作成されているエンドポイント（api-report-list.php）を使用して清掃報告書のリストを取得する。  
2. 取得したリストデータを整形（ビジネスロジックが必要な場合は `src/lib/report` 内で実装OK）。  
3. リスト用コンポーネント（`src/components/report/report-list.tsx`）に整形後データを渡して表示する。  
4. 一覧の各報告書をクリックすると投稿IDを取得し、後続で詳細情報取得用APIに投げる想定。  
   - 現時点ではクリック時の動作を実装するが、実際の詳細表示はプレースホルダー（「ここに報告書の詳細が表示されます」など）とする。  
   - `report-detail.tsx`（詳細用UIコンポーネント）にはプレースホルダー用のテキストを表示する部分を作成しておき、クリックで表示させるようにする。  
5. 詳細画面には「一覧に戻る」「ダッシュボードに戻る」ボタンを設置しておく（デザインやUIの詳細はお任せ）。  
   - 本番の実装ではSPAのモーダルまたは別画面表示を想定。  
6. 似たような動作として「物件一覧を取得して表示する」コードが既に実装済みなので、  
   必要に応じてコードベースを検索し、参考にすること。  
7. 作業計画書を `doc\milestone` 内にマークダウンファイルとして作成し、  
   内容をチェック（抜け漏れ確認含む）したうえで作業を開始する。  
   - 全作業終了後にも再度チェックし、最終報告とともにユーザーへ提出する。  
8. `src/pages/dashboard/page.tsx` 内に「作成済み報告書一覧」などのボタンを追加し、  
   クリック時にレポート一覧ページ（`src/pages/report/page.tsx`）へ遷移するよう実装する。

---

## 留意事項
- doc\milestone 内に作業計画書を作成し、内容を批判的に検証したあとにすべてを実行。
- 作業完了時にマールストーンを見返し、全て問題なく完了している場合にユーザーに報告。
- 既存の機能を破壊しないように最新の注意を払うこと。
- ビジネスロジックを含める処理は、必要に応じて `src/lib/report` ディレクトリを活用すること。
